import sys
import random

import time
# from tkinter.tix import Form

ascii= {
    'a': '''
                                                                                               ___   
                                                                                              /   \  
                                                                                              | - |  
                                                                                              |_|_|  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'b': '''
                                                                                               ___   
                                                                                              | _ )  
                                                                                              | _ \  
                                                                                              |___/  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'c':'''
                                                                                               ___   
                                                                                              / __|  
                                                                                             | (__   
                                                                                              \___|  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'd': '''
                                                                                               ___   
                                                                                              |   \  
                                                                                              | |) | 
                                                                                              |___/  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'e': '''
                                                                                               ___   
                                                                                              | __|  
                                                                                              | _|   
                                                                                              |___|  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'f': '''
                                                                                                ___  
                                                                                               | __| 
                                                                                               | _|  
                                                                                              _|_|_  
                                                                                            _| """ | 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'g': '''
                                                                                               ___   
                                                                                              / __|  
                                                                                             | (_ |  
                                                                                              \___|  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'h': '''
                                                                                              _  _   
                                                                                             | || |  
                                                                                             | __ |  
                                                                                             |_||_|  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'i': '''
                                                                                               ___   
                                                                                              |_ _|  
                                                                                               | |   
                                                                                              |___|  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'j': '''
                                                                                                 _  
                                                                                              _ | | 
                                                                                             | || | 
                                                                                             _\__/  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'k': '''
                                                                                              _  __  
                                                                                             | |/ /  
                                                                                             | ' <   
                                                                                             |_|\_\  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'l': '''
                                                                                              _     
                                                                                             | |    
                                                                                             | |__  
                                                                                             |____| 
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'm': '''
                                                                                              __  __  
                                                                                             |  \/  | 
                                                                                             | |\/| | 
                                                                                             |_|__|_| 
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'n': '''
                                                                                              _  _   
                                                                                             | \| |  
                                                                                             | .` |  
                                                                                             |_|\_|  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'o': '''
                                                                                               ___   
                                                                                              / _ \  
                                                                                             | (_) | 
                                                                                              \___/  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'p': '''
                                                                                               ___  
                                                                                               | _ \ 
                                                                                               |  _/ 
                                                                                              _|_|_  
                                                                                            _| """ | 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'q': '''
                                                                                              ___    
                                                                                             / _ \   
                                                                                            | (_) |  
                                                                                             \__\_\  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'r': '''
                                                                                               ___   
                                                                                              | _ \  
                                                                                              |   /  
                                                                                              |_|_\  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    's': '''
                                                                                               ___   
                                                                                              / __|  
                                                                                              \__ \  
                                                                                              |___/  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    't': '''
                                                                                              _____  
                                                                                             |_   _| 
                                                                                               | |   
                                                                                              _|_|_  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'u': '''
                                                                                              _   _  
                                                                                             | | | | 
                                                                                             | |_| | 
                                                                                              \___/  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'v': '''
                                                                                             __   __ 
                                                                                             \ \ / / 
                                                                                              \ V /  
                                                                                              _\_/_  
                                                                                            _| """"| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'w': '''
                                                                                            __      __
                                                                                            \ \    / /
                                                                                             \ \/\/ / 
                                                                                              \_/\_/  
                                                                                            _|"""""|  
                                                                                            "`-0-0-'  
                                                                                            ''',
    'x': '''
                                                                                             __  __  
                                                                                             \ \/ /  
                                                                                              >  <   
                                                                                             /_/\_\  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'y': '''
                                                                                             __   __ 
                                                                                             \ \ / / 
                                                                                              \ V /  
                                                                                              _|_|_  
                                                                                            _| """ | 
                                                                                            "`-0-0-' 
                                                                                            ''',
    'z': '''
                                                                                               ____  
                                                                                              |_  /  
                                                                                               / /   
                                                                                              /___|  
                                                                                            _|"""""| 
                                                                                            "`-0-0-' 
                                                                                            ''',
}

Forms = ['''
                                                                                      ++------------------------------+==+
                                                                                      ++------------------------------+==+
                                                                                      ++                              ||
                                                                                      ++                              ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                            ======================================================================
                                                            ======================================================================''', '''
                                                                                      ++------------------------------+==+
                                                                                      ++------------------------------+==+
                                                                                      ++                              ||
                                                                                      ++                              ||
                                                                                      []                              ||
                                                                              \/\/\/\/\/\/\/\/\/\/                    ||
                                                                                   | -.- -.-                          ||
                                                                                   |    |                             ||
                                                                                    \______/                          ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                            ======================================================================
                                                            ======================================================================''', '''
                                                                                      ++------------------------------+==+
                                                                                      ++------------------------------+==+
                                                                                      ++                              ||
                                                                                      ++                              ||
                                                                                      []                              ||
                                                                              \/\/\/\/\/\/\/\/\/\/                    ||
                                                                                   | -.- -.-                          ||
                                                                                   |    |                             ||
                                                                                    \______/                          ||
                                                                                     ||||                             ||
                                                                                     |``|                             ||
                                                                                     |  |                             ||
                                                                                     |  |                             ||
                                                                                     |  |                             ||
                                                                                     |__|                             ||
                                                                                     ||||                             ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                            ======================================================================
                                                            ======================================================================''', '''
                                                                                      ++------------------------------+==+
                                                                                      ++------------------------------+==+
                                                                                      ++                              ||
                                                                                      ++                              ||
                                                                                      []                              ||
                                                                              \/\/\/\/\/\/\/\/\/\/                    ||
                                                                                   | -O- -O-                          ||
                                                                                   |    |                             ||
                                                                                    \______/                          ||
                                                                   ___               ||||                             ||
                                                                  |```|==============|``|                             ||
                                                                  |___|              |  |                             ||
                                                                                     |  |                             ||
                                                                                     |  |                             ||
                                                                                     |__|                             ||
                                                                                     ||||                             ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                            ======================================================================
                                                            ======================================================================''', '''
                                                                                      ++------------------------------+==+
                                                                                      ++------------------------------+==+
                                                                                      ++                              ||
                                                                                      ++                              ||
                                                                                      []                              ||
                                                                              \/\/\/\/\/\/\/\/\/\/                    ||
                                                                                   | -!- -!-                          ||
                                                                                   |    |                             ||
                                                                                    \______/                          ||
                                                                   ___               ||||              ___            ||
                                                                  |```|==============|``|=============|```|           ||
                                                                  |___|              |  |             |___|           ||
                                                                                     |  |                             ||
                                                                                     |  |                             ||
                                                                                     |__|                             ||
                                                                                     ||||                             ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                            ======================================================================
                                                            ======================================================================''', '''
                                                                                      ++------------------------------+==+
                                                                                      ++------------------------------+==+
                                                                                      ++                              ||
                                                                                      ++                              ||
                                                                                      []                              ||
                                                                              \/\/\/\/\/\/\/\/\/\/                    ||
                                                                                   | -#- -#-                          ||
                                                                                   |    |                             ||
                                                                                    \______/                          ||
                                                                   ___               ||||              ___            ||
                                                                  |```|==============|``|=============|```|           ||
                                                                  |___|              |  |             |___|           ||
                                                                                     |  |                             ||
                                                                                     |  |                             ||
                                                                                     |__|                             ||
                                                                                     ||||                             ||
                                                                                     |                                ||
                                                                                     |                                ||
                                                                                 ____|                                ||
                                                                                 ||                                   ||
                                                                           ._____||                                   ||
                                                                            |_____|                                   ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                            ======================================================================
                                                            ======================================================================''', '''
                                                                                      ++------------------------------+==+
                                                                                      ++------------------------------+==+
                                                                                      ++                              ||
                                                                                      ++                              ||
                                                                                      []                              ||
                                                                              \/\/\/\/\/\/\/\/\/\/                    ||
                                                                                   | -X- -X-                          ||
                                                                                   |    |                             ||
                                                                                    \______/                          ||
                                                                   ___               ||||              ___            ||
                                                                  |```|==============|``|=============|```|           ||
                                                                  |___|              |  |             |___|           ||
                                                                                     |  |                             ||
                                                                                     |  |                             ||
                                                                                     |__|                             ||
                                                                                     ||||                             ||
                                                                                     |  |                             ||
                                                                                     |  |                             ||
                                                                                 ____|  |____                         ||
                                                                                 ||        ||                         ||
                                                                           ._____||        ||____.                    ||
                                                                            |_____|        |_____|                    ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                                                                                      ||
                                                            ======================================================================
                                                            ======================================================================''']

length = ['''
                                                                                        ******       ******     
                                                                                      **********   **********   
                                                                                    *************************** 
                                                                                   *************   *************
                                                                                   *************   *************
                                                                                   *************   *************
                                                                                    ************   ************ 
                                                                                      **********   **********   
                                                                                        ********   ********     
                                                                                          ******   ******       
                                                                                            ***********         
                                                                                              *******           
                                                                                                ***             
                                                                                                 *       
''',
''' 
                                                                                        ******       ******     
                                                                                      **********   **********   
                                                                                    ************* ************* 
                                                                                   *****************************
                                                                                   *********            ********
                                                                                   *******************  ********
                                                                                    ********            ******* 
                                                                                      ******  ***************   
                                                                                        ****            ***     
                                                                                          ***************       
                                                                                            ***********         
                                                                                              *******           
                                                                                                ***             
                                                                                                 *                           
''',
''' 
                                                                                        ******       ******     
                                                                                      **********   **********   
                                                                                    ************* ************* 
                                                                                   *****************************
                                                                                   ********             ********
                                                                                   *******************  ********
                                                                                    *******             ******* 
                                                                                      ****************  *****   
                                                                                        ***             ***     
                                                                                          ***************       
                                                                                            ***********         
                                                                                              *******           
                                                                                                ***             
                                                                                                 *               
''',
'''
                                                                                        ******       ******     
                                                                                      **********   **********   
                                                                                    ************* ************* 
                                                                                   *****************************
                                                                                   *******  ********  **********
                                                                                   *******  ********  **********
                                                                                    ******  ********  ********* 
                                                                                      ****            *******   
                                                                                        ************  *****     
                                                                                          **********  ***       
                                                                                            ***********         
                                                                                              *******           
                                                                                                ***             
                                                                                                 *               
''',
'''
                                                                                        ******       ******     
                                                                                      **********   **********   
                                                                                    ************* ************* 
                                                                                   *****************************
                                                                                   *********          **********
                                                                                   ********* *******************
                                                                                    ********          ********* 
                                                                                      *************** *******   
                                                                                        ****          *****     
                                                                                          ***************       
                                                                                            ***********         
                                                                                              *******           
                                                                                                ***             
                                                                                                 *               
''',
'''
                                                                                        ******       ******     
                                                                                      **********   **********   
                                                                                    ************* ************* 
                                                                                   *****************************
                                                                                   *********          **********
                                                                                   ********* *******************
                                                                                    ********          ********* 
                                                                                      ****** ******** *******   
                                                                                        **** ******** *****     
                                                                                          **          ***       
                                                                                            ***********         
                                                                                              *******           
                                                                                                ***             
                                                                                                 *                       
''',
]

def start():
    restart=input('\t\t\t\t\t\t\t\t\t\tWould you like to play again? (y/n)\n\n\t\t\t\t\t\t\t\t\t\t\t\t')
    if restart == ('y' or 'Y'):
        main()
    elif restart == ('n' or 'N'):
        sys.exit('\n\t\t\t\t\t\t\t\t\t\tThank you for playing :)\n')
    else:
        print('\n\t\t\t\t\t\t\t\t\t\tSomething went wrong... Try again\n')
        start()

def findChars(str, ch):
    # return[i for i, letter in enumerate(str) if letter == ch]
    arr=[]
    for i, letter in enumerate(str):
        if letter == ch:
            arr.append(i)
    return arr

def arrToStr(arr, str=''):
    for index in arr:
        str+=f'{index.upper()}  '
    return str

def arrToStr2(arr, str=''):
    for index in arr:
        str+=f'{index.upper()}'
    return str


def hangPic(pic):
    print(f'{Forms[pic]}')

def displayUsedChars(arr):
    msg="\t\t\t\t\t\t\t\t\t\tCharacters you've already guessed:\n\t\t\t\t\t\t\t\t\t\t\t["
    for index in arr:
        msg+=f'{index.upper()}, '
    msg+=']'
    print(msg)


def main():

    websters=[]

    with open('websters.txt') as file:
        while(line := file.readline().rstrip()):
            websters.append(line)

    answers=random.choice(websters)
    secret=[]
    for answer in answers:
        secret.append(answer)
    secretWord=tuple(secret)

    turns=6
    form=6-turns

    guesses=['_'] * len(secretWord)

    # print("\n\nWELCOME TO HANGMAN!")
    print('''
                                                                                                                                                                                                         
                                                                                                                          ,--,                                                                           
           .---.            ,--,                                ____                      ___                           ,--.'|                                             ____                          
          /. ./|          ,--.'|                              ,'  , `.                  ,--.'|_                      ,--,  | :                                           ,'  , `.                        
      .--'.  ' ;          |  | :               ,---.       ,-+-,.' _ |                  |  | :,'   ,---.          ,---.'|  : '                  ,---,                 ,-+-,.' _ |                 ,---,  
     /__./ \ : |          :  : '              '   ,'\   ,-+-. ;   , ||                  :  : ' :  '   ,'\         |   | : _' |              ,-+-. /  |  ,----._,.  ,-+-. ;   , ||             ,-+-. /  | 
 .--'.  '   \' .   ,---.  |  ' |      ,---.  /   /   | ,--.'|'   |  || ,---.          .;__,'  /  /   /   |        :   : |.'  |  ,--.--.    ,--.'|'   | /   /  ' / ,--.'|'   |  || ,--.--.    ,--.'|'   | 
/___/ \ |    ' '  /     \ '  | |     /     \.   ; ,. :|   |  ,', |  |,/     \         |  |   |  .   ; ,. :        |   ' '  ; : /       \  |   |  ,"' ||   :     ||   |  ,', |  |,/       \  |   |  ,"' | 
;   \  \;      : /    /  ||  | :    /    / ''   | |: :|   | /  | |--'/    /  |        :__,'| :  '   | |: :        '   |  .'. |.--.  .-. | |   | /  | ||   | .\  .|   | /  | |--'.--.  .-. | |   | /  | | 
 \   ;  `      |.    ' / |'  : |__ .    ' / '   | .; :|   : |  | ,  .    ' / |          '  : |__'   | .; :        |   | :  | ' \__\/: . . |   | |  | |.   ; ';  ||   : |  | ,    \__\/: . . |   | |  | | 
  .   \    .\  ;'   ;   /||  | '.'|'   ; :__|   :    ||   : |  |/   '   ;   /|          |  | '.'|   :    |        '   : |  : ; ," .--.; | |   | |  |/ '   .   . ||   : |  |/     ," .--.; | |   | |  |/  
   \   \   ' \ |'   |  / |;  :    ;'   | '.'|\   \  / |   | |`-'    '   |  / |          ;  :    ;\   \  /         |   | '  ,/ /  /  ,.  | |   | |--'   `---`-'| ||   | |`-'     /  /  ,.  | |   | |--'   
    :   '  |--" |   :    ||  ,   / |   :    : `----'  |   ;/        |   :    |          |  ,   /  `----'          ;   : ;--' ;  :   .'   \|   |/       .'__/\_: ||   ;/        ;  :   .'   \|   |/       
     \   \ ;     \   \  /  ---`-'   \   \  /          '---'          \   \  /            ---`-'                   |   ,/     |  ,     .-./'---'        |   :    :'---'         |  ,     .-./'---'        
      '---"       `----'             `----'                           `----'                                      '---'       `--`---'                  \   \  /                `--`---'                 
                                                                                                                                                         `--`-'                                          
''')
    print('''
    
                                                 _____ __  _______  ____     ____  __ __  _  _____      ____   __  _ __  __ _____  _  __  __  ____ 
                                                |_   _|\ \/ /| ()_)| ===|   / () \|  |  || ||_   _|    / () \ |  \| |\ \/ /|_   _|| ||  \/  || ===|
                                                  |_|   |__| |_|   |____|   \____/=\___/ |_|  |_|     /__/\__\|_|\__| |__|   |_|  |_||_|\/|_||____|
                                                  
                                                  ''')
    print(f"{Forms[0]}\n")

    usedChars=[]

    while turns > 0:
        guesses1=arrToStr(guesses)
        print(f'\n{length[turns-1]}\n')
        print(f'\n\t\t\t\t\t\t\t\t\t\t\t{guesses1}\n')
        displayUsedChars(usedChars)
        # guess=input('\nGuess a character:\n')
        guess=input('''
        
                                                                        
                                                                  █▀▀ █░█ █▀▀ █▀ █▀   ▄▀█   █▀▀ █░█ ▄▀█ █▀█ ▄▀█ █▀▀ ▀█▀ █▀▀ █▀█ ▀
                                                                  █▄█ █▄█ ██▄ ▄█ ▄█   █▀█   █▄▄ █▀█ █▀█ █▀▄ █▀█ █▄▄ ░█░ ██▄ █▀▄ ▄
        
                                                                                                  
                                                                                                ''')
        
        while True:
            if guess=='':
                # guess=input('\nGuess a character:\n')
                guess=input('''
        
                                                                        
                                                                  █▀▀ █░█ █▀▀ █▀ █▀   ▄▀█   █▀▀ █░█ ▄▀█ █▀█ ▄▀█ █▀▀ ▀█▀ █▀▀ █▀█ ▀
                                                                  █▄█ █▄█ ██▄ ▄█ ▄█   █▀█   █▄▄ █▀█ █▀█ █▀▄ █▀█ █▄▄ ░█░ ██▄ █▀▄ ▄
        
                                                                                                  
                                                                                                ''')
            elif len(guess) > 1:
                if guess.lower() == 'quit':
                    sys.exit('\n\t\t\t\t\t\t\t\t\t\tSad to see you go... Come back anytime!\n')
                else:
                    guess=input('\n\t\t\t\t\t\t\t\t\t\tGuess must be one character...\n\t\t\t\t\t\t\t\t\t\tGo again:\n')
            elif guess in usedChars:
                guess=input(f"\n\t\t\t\t\t\t\t\t\t\tYou've already guessed '{guess.upper()}'...\n\t\t\t\t\t\t\t\t\t\tTry again:\n\t\t\t\t\t\t\t\t\t\t\t\t")
            elif guess in guesses:
                guess=input(f"\n\t\t\t\t\t\t\t\t\t\t'{guess.upper()}' is already correct... We don't like smart alecks\n\t\t\t\t\t\t\t\t\t\tGuess again:\n\t\t\t\t\t\t\t\t\t\t\t\t")
            else:
                break

        if guess not in secretWord:
            usedChars.append(guess)
            turns-=1
            form=6-turns
            print('\WRONG!\n')
            hangPic(form)
            # print(f"Guesses Left: {turns}\n")
            if turns == 0:
                print('\n\t\t\t\t\t\t\t\t\t\tYOU LOSE!\n')
                print(f'\t\t\t\t\t\t\t\t\t\tThe correct word is: {arrToStr2(secretWord)}\n')
                start()
        elif guess in secretWord:
            hangPic(form)
            # print(f"Guesses Left: {turns}\n")
            chIndex=findChars(secretWord, guess)
            for i in chIndex:
                guesses[i] = guess
        check=True
        for i in range(0, len(secretWord)):
            if(guesses[i] != secretWord[i]):
                check=False
                break
        if check == True:
            print('\t\t\t\t\t\t\t\t\t\tYOU WIN!')
            print(f'\n\t\t\t\t\t\t\t\t\t\tYou guessed the correct word: {arrToStr2(guesses)}\n')
            start()

if __name__ == "__main__":
    main()